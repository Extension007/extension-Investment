# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò 153: YouTube –≤–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

## –î–∞—Ç–∞: 2025-01-27

---

## üéØ –¶–ï–õ–¨

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É 153 –ø—Ä–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏ YouTube-–≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ iframe –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å –≤–∏–¥–∏–º–æ–π –∫–Ω–æ–ø–∫–æ–π Play.

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê

**–û—à–∏–±–∫–∏:**
- –û—à–∏–±–∫–∞ 153: –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞
- DOMException: play() interrupted by pause()
- –ö–Ω–æ–ø–∫–∞ Play –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –í–∏–¥–µ–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø—Ä–æ—Å—Ç–æ–π iframe –±–µ–∑ YouTube IFrame API
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `enablejsapi=1`
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π `onReady` –∏ `onError`
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `play()`

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ YouTube IFrame API

**–§–∞–π–ª—ã:** `public/script.js`, `views/index.ejs`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ YouTube IFrame API

**–§–∞–π–ª:** `views/index.ejs`

```html
<!-- –ó–∞–≥—Ä—É–∂–∞–µ–º YouTube IFrame API –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º -->
<script>
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>
```

#### –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createYouTubeIframe()`

**–§–∞–π–ª:** `public/script.js`

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ YT.Player –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ iframe**
   ```javascript
   youtubePlayer = new YT.Player(videoIframeContainer, {
     videoId: videoId,
     width: '100%',
     height: '100%',
     playerVars: {
       'enablejsapi': 1,        // ‚úÖ –í–∫–ª—é—á–µ–Ω JavaScript API
       'playsinline': 1,
       'controls': 1,
       'rel': 0,
       'origin': window.location.origin,
       'modestbranding': 1
     },
     events: {
       'onReady': function(event) { ... },
       'onError': function(event) { ... },
       'onStateChange': function(event) { ... }
     }
   });
   ```

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è `onReady`**
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–µ–µ—Ä–∞
   - –õ–æ–≥–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–µ–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –∏ —Å—Ç–∏–ª–∏
   - –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (–ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞)

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è `onError`**
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ YouTube
   - **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 153:**
     - –õ–æ–≥–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
     - –ü—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
     - –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ YouTube

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è `onStateChange`**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–µ–µ—Ä–∞
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–ª–∞–≥–∏ `isPlaying` –∏ `isPaused`
   - –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `play()` –∏ `pause()`

**–î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏:**
```javascript
let isPlaying = false;  // –§–ª–∞–≥ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ play()
let isPaused = false;   // –§–ª–∞–≥ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ pause()
```

**–õ–æ–≥–∏–∫–∞:**
- –§–ª–∞–≥–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ `onStateChange`
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É "play() interrupted by pause()"

---

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 153

**–ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```javascript
'onError': function(event) {
  const errorCode = event.data;
  
  if (errorCode === 153) {
    console.error('‚ùå –û—à–∏–±–∫–∞ 153: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞');
    console.warn('‚ö†Ô∏è –ü—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä...');
    
    // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –ø–ª–µ–µ—Ä —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
      if (videoId && videoIframeContainer) {
        createYouTubeIframe(videoId);
      }
    }, 2000);
    return;
  }
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫...
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—à–∏–±–∫—É 153
2. –õ–æ–≥–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
3. –ü—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä
4. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ YouTube

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞:**
```javascript
const containerRect = videoIframeContainer.getBoundingClientRect();
console.log('üìê –†–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:', {
  width: containerRect.width,
  height: containerRect.height,
  visible: containerRect.width > 0 && containerRect.height > 0
});

if (containerRect.width === 0 || containerRect.height === 0) {
  console.error('‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç –Ω—É–ª–µ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã');
  // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —á–µ—Ä–µ–∑ 100ms
  setTimeout(() => {
    createYouTubeIframe(videoId);
  }, 100);
  return;
}
```

**–ó–∞—á–µ–º:**
- YouTube IFrame API —Ç—Ä–µ–±—É–µ—Ç –≤–∏–¥–∏–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–ª–µ–µ—Ä–∞

---

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ overlay

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
if (!videoOverlay || videoOverlay.style.display === 'none' || !videoOverlay.classList.contains('show')) {
  console.error('‚ùå Overlay –Ω–µ –≤–∏–¥–µ–Ω, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å YouTube –ø–ª–µ–µ—Ä');
  // Fallback...
  return;
}
```

**–ó–∞—á–µ–º:**
- YouTube IFrame API –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä –≤ —Å–∫—Ä—ã—Ç–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ overlay –≤–∏–¥–µ–Ω –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞

---

### 6. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ YouTube IFrame API

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è:**
```javascript
if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
  console.warn('‚ö†Ô∏è YouTube IFrame API –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –∂–¥–µ–º...');
  
  let apiWaitCount = 0;
  const maxWaitCount = 50; // 5 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
  
  const waitForAPI = setInterval(() => {
    if (typeof YT !== 'undefined' && typeof YT.Player !== 'undefined') {
      clearInterval(waitForAPI);
      createYouTubeIframe(videoId);
    } else if (apiWaitCount >= maxWaitCount) {
      clearInterval(waitForAPI);
      createYouTubeIframeFallback(videoId); // Fallback –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π iframe
    }
    apiWaitCount++;
  }, 100);
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–∂–∏–¥–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É YouTube IFrame API –¥–æ 5 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–ª–µ–µ—Ä –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ API
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback, –µ—Å–ª–∏ API –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è

---

### 7. Fallback –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π iframe

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createYouTubeIframeFallback()`:**
```javascript
function createYouTubeIframeFallback(videoId) {
  const embedUrl = `https://www.youtube.com/embed/${videoId}?playsinline=1&controls=1&rel=0&enablejsapi=1&origin=${origin}`;
  // –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π iframe —Å enablejsapi=1
}
```

**–ó–∞—á–µ–º:**
- –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ YouTube IFrame API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –í—Å–µ —Ä–∞–≤–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç `enablejsapi=1` –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

---

### 8. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–ª–µ–µ—Ä–∞

**–£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `closeVideoOverlay()`:**
```javascript
// –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º YouTube –ø–ª–µ–µ—Ä
if (youtubePlayer) {
  try {
    youtubePlayer.stopVideo();    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    youtubePlayer.destroy();       // –£–Ω–∏—á—Ç–æ–∂–∞–µ–º –ø–ª–µ–µ—Ä
  } catch (e) {
    console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ YouTube –ø–ª–µ–µ—Ä–∞:', e);
  }
  youtubePlayer = null;
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

---

## üìä –ü–ê–†–ê–ú–ï–¢–†–´ YOUTUBE EMBED URL

### –ß–µ—Ä–µ–∑ YT.Player API:
```javascript
playerVars: {
  'enablejsapi': 1,        // ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153
  'playsinline': 1,        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ (iOS)
  'controls': 1,           // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  'rel': 0,                // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –≤–∏–¥–µ–æ
  'origin': window.location.origin,  // –î–æ–º–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  'modestbranding': 1      // –£–º–µ–Ω—å—à–∏—Ç—å –±—Ä–µ–Ω–¥–∏–Ω–≥ YouTube
}
```

### –ß–µ—Ä–µ–∑ fallback iframe:
```
https://www.youtube.com/embed/VIDEO_ID?playsinline=1&controls=1&rel=0&enablejsapi=1&origin=ORIGIN
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å:

1. ‚úÖ **YouTube IFrame API**
   - –ü–ª–µ–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `YT.Player`
   - –°–æ–±—ã—Ç–∏—è `onReady`, `onError`, `onStateChange` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
   - –û—à–∏–±–∫–∞ 153 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

2. ‚úÖ **–û—à–∏–±–∫–∞ 153**
   - –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä
   - Fallback –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é

3. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞**
   - –§–ª–∞–≥–∏ `isPlaying` –∏ `isPaused` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
   - –ù–µ—Ç –æ—à–∏–±–∫–∏ "play() interrupted by pause()"

4. ‚úÖ **–ö–Ω–æ–ø–∫–∞ Play**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ
   - –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

5. ‚úÖ **–†–∞–∑–º–µ—Ä—ã –∏ —Å—Ç–∏–ª–∏**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞
   - Overlay –≤–∏–¥–∏–º –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã iframe

6. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –í—Å–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ YouTube –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
   - –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
   - Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

---

## üéØ –û–ñ–ò–î–ê–ï–ú–û–ï –ü–û–í–ï–î–ï–ù–ò–ï

### –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä":

1. ‚úÖ Overlay –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (`display: flex`)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ YouTube IFrame API
3. ‚úÖ –ï—Å–ª–∏ API –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω - –æ–∂–∏–¥–∞–µ—Ç—Å—è –¥–æ 5 —Å–µ–∫—É–Ω–¥
4. ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä—ã
5. ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è `YT.Player` —Å `enablejsapi=1`
6. ‚úÖ –ü–ª–µ–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –≤–∏–¥–∏–º–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
7. ‚úÖ –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `onReady` –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
8. ‚úÖ **–ö–Ω–æ–ø–∫–∞ Play –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** ‚úÖ
9. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç Play
10. ‚úÖ –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏ 153 ‚úÖ
11. ‚úÖ –°–æ–±—ã—Ç–∏—è `onStateChange` –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
12. ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. ‚úÖ `views/index.ejs` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ YouTube IFrame API
2. ‚úÖ `public/script.js` - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createYouTubeIframe()` –Ω–∞ YT.Player

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ‚Üì
2. –ó–∞–≥—Ä—É–∑–∫–∞ YouTube IFrame API —Å–∫—Ä–∏–ø—Ç–∞
   ‚Üì
3. –í—ã–∑–æ–≤ window.onYouTubeIframeAPIReady()
   ‚Üì
4. –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä"
   ‚Üì
5. openVideoOverlay() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   ‚Üì
6. Overlay –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
   ‚Üì
7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ YouTube IFrame API
   ‚Üì
8. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   ‚Üì
9. –°–æ–∑–¥–∞–Ω–∏–µ YT.Player
   ‚Üì
10. onReady –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
    ‚Üì
11. –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –∫–Ω–æ–ø–∫–∞ Play –≤–∏–¥–Ω–∞
    ‚Üì
12. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç Play
    ‚Üì
13. onStateChange: PLAYING
    ‚Üì
14. –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è ‚úÖ
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

- **–û—à–∏–±–∫–∞ 2**: –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é
- **–û—à–∏–±–∫–∞ 5**: HTML5 –æ—à–∏–±–∫–∞ ‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é
- **–û—à–∏–±–∫–∞ 100**: –í–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é
- **–û—à–∏–±–∫–∞ 101/150**: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ ‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é
- **–û—à–∏–±–∫–∞ 153**: –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ ‚Üí **–ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–µ—Ä** ‚Üí –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ ‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é

---

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ 153:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `enablejsapi=1` –≤ embed URL
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ iframe –≤–º–µ—Å—Ç–æ YouTube IFrame API
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π `onReady` –∏ `onError`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ YouTube IFrame API —Å `YT.Player`
- –î–æ–±–∞–≤–ª–µ–Ω `enablejsapi=1` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `play()/pause()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—à–∏–±–∫–∞ 153 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ Play –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ "play() interrupted by pause()"

