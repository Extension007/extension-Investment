# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∫–æ–Ω—Å–æ–ª–∏

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. ‚úÖ YouTube IFrame API –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: `‚úÖ YouTube IFrame API –≥–æ—Ç–æ–≤`
2. ‚úÖ –ü–ª–µ–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è: `‚úÖ –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤`
3. ‚úÖ –í–∏–¥–µ–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ: `üé¨ –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ`
4. ‚úÖ Video ID –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è: `‚úÖ Video ID: 912nTpUCWnc`
5. ‚úÖ –í–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: `‚úÖ –í–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`

## ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. –û—à–∏–±–∫–∞ postMessage (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–û—à–∏–±–∫–∞:**
```
Failed to execute 'postMessage' on 'DOMWindow': The target origin provided ('https://www.youtube.com') does not match the recipient window's origin ('https://extension-investment.vercel.app').
```

**–ü—Ä–∏—á–∏–Ω–∞:**
YouTube API –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å postMessage –≤ iframe, –Ω–æ origin –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ —Å–∞–π—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ `vercel.app`, –∞ YouTube –æ–∂–∏–¥–∞–µ—Ç –¥—Ä—É–≥–æ–π origin.

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Äî –ø–ª–µ–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ YouTube API. –û—à–∏–±–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ø–ª–µ–µ—Ä–∞. –ú–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –ø–æ–¥–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù–µ –≤–∏–¥–Ω–æ –ª–æ–≥–∞ `‚úÖ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: <videoId>` –∏–ª–∏ `‚úÖ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ –ø–ª–µ–µ—Ä: <videoId>`

**–ü—Ä–∏—á–∏–Ω–∞:**
–°—É–¥—è –ø–æ –ª–æ–≥–∞–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω—É–ª –Ω–∞ –∫–Ω–æ–ø–∫—É **–ø–æ—Å–ª–µ** —Ç–æ–≥–æ, –∫–∞–∫ –ø–ª–µ–µ—Ä —É–∂–µ –±—ã–ª –≥–æ—Ç–æ–≤. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:
- `onPlayerReady` –≤—ã–∑–≤–∞–ª—Å—è —Ä–∞–Ω—å—à–µ, –∫–æ–≥–¥–∞ `currentVideoId` –±—ã–ª `null`
- –ó–∞—Ç–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω—É–ª, `currentVideoId` —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è
- `player.loadVideoById()` –¥–æ–ª–∂–µ–Ω –±—ã–ª –≤—ã–∑–≤–∞—Ç—å—Å—è, –Ω–æ –ª–æ–≥ –Ω–µ –ø–æ—è–≤–∏–ª—Å—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `onPlayerReady` –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å try-catch
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–µ–µ—Ä–∞

## üìù –£–ª—É—á—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã:

1. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `onPlayerReady`:
   - –õ–æ–≥, –µ—Å–ª–∏ `currentVideoId` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–∂–∏–¥–∞–µ—Ç—Å—è –∫–ª–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–µ

2. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ:
   - –õ–æ–≥ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –≤ –ø–ª–µ–µ—Ä
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onStateChange`:
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–µ–µ—Ä–∞
   - –õ–æ–≥, –∫–æ–≥–¥–∞ –≤–∏–¥–µ–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```
‚úÖ YouTube IFrame API –≥–æ—Ç–æ–≤
‚úÖ –ü–ª–µ–µ—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤
‚ÑπÔ∏è –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –Ω–æ currentVideoId –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–∂–∏–¥–∞–µ—Ç—Å—è –∫–ª–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
üé¨ –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ: https://www.youtube.com/watch?v=912nTpUCWnc
‚úÖ Video ID: 912nTpUCWnc
‚úÖ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ –ø–ª–µ–µ—Ä: 912nTpUCWnc
‚ñ∂Ô∏è –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
‚úÖ –í–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
```

## ‚ö†Ô∏è –û—à–∏–±–∫–∞ postMessage:

–û—à–∏–±–∫–∞ postMessage –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ø–ª–µ–µ—Ä–∞. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ YouTube API –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å iframe –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö. –ú–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –ø–æ–¥–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ –±—É–¥—É—â–µ–º.

