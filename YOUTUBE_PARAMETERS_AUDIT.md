# –ê—É–¥–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ YouTube-–ø–ª–µ–µ—Ä–∞ –≤ public/script.js

## –î–∞—Ç–∞: 2024-12-19

## –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è YouTube-–ø–ª–µ–µ—Ä–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –¥–ª—è Chrome –Ω–∞ iPhone:
- `origin` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `window.location.origin` –±–µ–∑ `encodeURIComponent`
- `autoplay` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª—é—á—ë–Ω (0 –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
- `playsinline` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1
- `enablejsapi` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1

---

## üìã 1. –û–°–ù–û–í–ù–û–ô –ü–£–¢–¨: YT.Player API (`createYouTubeIframe`)

### –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
**–§—É–Ω–∫—Ü–∏—è:** `createYouTubeIframe(videoId)`  
**–°—Ç—Ä–æ–∫–∏:** 198-400  
**–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞:** –°—Ç—Ä–æ–∫–∞ 260: `youtubePlayer = new YT.Player(videoIframeContainer, {...})`  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –°—Ç—Ä–æ–∫–∏ 264-271: `playerVars: {...}`

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `origin`:
**–°—Ç—Ä–æ–∫–∞ 269:** `'origin': window.location.origin`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é** - `window.location.origin` –±–µ–∑ `encodeURIComponent`
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è YT.Player API** - YouTube API —Å–∞–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç origin
- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç** (—Å—Ç—Ä–æ–∫–∞ 269): `// FIX: origin –±–µ—Ä—ë—Ç—Å—è –∏–∑ window.location.origin –±–µ–∑ encodeURIComponent`
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º** –¥–ª—è Chrome –Ω–∞ iPhone

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `window.location.origin` –±–µ–∑ `encodeURIComponent`

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `autoplay`:
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ `playerVars`:** –°—Ç—Ä–æ–∫–∏ 264-271

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä `autoplay` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** –≤ `playerVars`
- ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ** - –ø–ª–µ–µ—Ä –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç** (—Å—Ç—Ä–æ–∫–∏ 300-302): "–ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –Ω–æ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å Play –≤—Ä—É—á–Ω—É—é (—ç—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞)"

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ù–µ—Ç –≤—ã–∑–æ–≤–∞ `playVideo()`** –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `onReady` (—Å—Ç—Ä–æ–∫–∞ 273)
- ‚úÖ **–§–ª–∞–≥–∏ –∑–∞—â–∏—Ç—ã** –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (—Å—Ç—Ä–æ–∫–∏ 209-210): `isPlaying = false`, `isPaused = false`

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `autoplay` –æ—Ç–∫–ª—é—á—ë–Ω (–ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ 0)

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `playsinline`:
**–°—Ç—Ä–æ–∫–∞ 265:** `'playsinline': 1`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ: 1** - –≤–∫–ª—é—á–µ–Ω–æ
- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç** (—Å—Ç—Ä–æ–∫–∞ 265): `// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è iOS)`
- ‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è iOS** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `playsinline: 1` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `enablejsapi`:
**–°—Ç—Ä–æ–∫–∞ 268:** `'enablejsapi': 1`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ: 1** - –≤–∫–ª—é—á–µ–Ω–æ
- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç** (—Å—Ç—Ä–æ–∫–∞ 268): `// –í–∫–ª—é—á–∏—Ç—å JavaScript API (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153)`
- ‚úÖ **–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–æ–º** —á–µ—Ä–µ–∑ JavaScript API
- ‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153**

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `enablejsapi: 1` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## üìã 2. FALLBACK –ü–£–¢–¨: –ü—Ä–æ—Å—Ç–æ–π iframe (`createYouTubeIframeFallback`)

### –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
**–§—É–Ω–∫—Ü–∏—è:** `createYouTubeIframeFallback(videoId)`  
**–°—Ç—Ä–æ–∫–∏:** 402-436  
**–°–æ–∑–¥–∞–Ω–∏–µ iframe:** –°—Ç—Ä–æ–∫–∞ 408: `const iframe = document.createElement('iframe')`  
**URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** –°—Ç—Ä–æ–∫–∞ 406: `const embedUrl = \`https://www.youtube.com/embed/${videoId}?playsinline=1&controls=1&rel=0&enablejsapi=1&origin=${encodeURIComponent(window.location.origin)}\`;`

### ‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä `origin`:
**–°—Ç—Ä–æ–∫–∞ 406:** `origin=${encodeURIComponent(window.location.origin)}`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `encodeURIComponent`** - —ç—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- ‚ö†Ô∏è **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ 405): `// FIX: origin –±–µ—Ä—ë—Ç—Å—è –∏–∑ window.location.origin (–±–µ–∑ encodeURIComponent) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã postMessage`
- ‚úÖ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `encodeURIComponent` –Ω–µ–æ–±—Ö–æ–¥–∏–º
- ‚ö†Ô∏è **–†–∞–∑–Ω–∏—Ü–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—É—Ç—ë–º** - –≤ YT.Player API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ - —Å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–í—ã–≤–æ–¥:** ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `encodeURIComponent` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ—Ç–æ—á–µ–Ω

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `autoplay`:
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ URL:** –°—Ç—Ä–æ–∫–∞ 406

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä `autoplay` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** –≤ URL
- ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ** - iframe –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–í `allow` –∞—Ç—Ä–∏–±—É—Ç–µ** (—Å—Ç—Ä–æ–∫–∞ 410): `'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share'`
- ‚ö†Ô∏è **`autoplay` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `allow` –∞—Ç—Ä–∏–±—É—Ç–µ** - —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –Ω–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–æ –≤–∫–ª—é—á–µ–Ω–æ
- ‚úÖ **–≠—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (permission)** - –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–∞–º–æ –ø–æ —Å–µ–±–µ
- ‚úÖ **–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –Ω—É–∂–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `autoplay=1` –≤ URL** - –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `autoplay` –æ—Ç–∫–ª—é—á—ë–Ω (–ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ URL, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤ `allow` –∞—Ç—Ä–∏–±—É—Ç–µ)

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `playsinline`:
**–°—Ç—Ä–æ–∫–∞ 406:** `playsinline=1` –≤ URL

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ: 1** - –≤–∫–ª—é—á–µ–Ω–æ –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
- ‚úÖ **–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ embed URL** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `playsinline=1` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ URL

---

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `enablejsapi`:
**–°—Ç—Ä–æ–∫–∞ 406:** `enablejsapi=1` –≤ URL

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ: 1** - –≤–∫–ª—é—á–µ–Ω–æ –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
- ‚úÖ **–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ embed URL** - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è JavaScript API

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `enablejsapi=1` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URL

---

## üìä –°–í–û–î–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ü–ê–†–ê–ú–ï–¢–†–û–í

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å (YT.Player API) | Fallback –ø—É—Ç—å (iframe) | –°—Ç–∞—Ç—É—Å |
|----------|------------------------------|------------------------|--------|
| **origin** | `window.location.origin` (–±–µ–∑ encodeURIComponent) | `encodeURIComponent(window.location.origin)` (–≤ URL) | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç (—Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã) |
| **autoplay** | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–æ—Ç–∫–ª—é—á—ë–Ω) | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–æ—Ç–∫–ª—é—á—ë–Ω) | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç |
| **playsinline** | `1` (–≤–∫–ª—é—á—ë–Ω) | `1` (–≤–∫–ª—é—á—ë–Ω –≤ URL) | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç |
| **enablejsapi** | `1` (–≤–∫–ª—é—á—ë–Ω) | `1` (–≤–∫–ª—é—á—ë–Ω –≤ URL) | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç |

---

## üì± –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –õ–£–ß–®–ò–ú –ü–†–ê–ö–¢–ò–ö–ê–ú –î–õ–Ø CHROME –ù–ê IPHONE

### ‚úÖ 1. –ü–∞—Ä–∞–º–µ—Ç—Ä `origin`:

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `window.location.origin` –±–µ–∑ `encodeURIComponent` –¥–ª—è YT.Player API

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `window.location.origin` –Ω–∞–ø—Ä—è–º—É—é (—Å—Ç—Ä–æ–∫–∞ 269)
- ‚ö†Ô∏è **Fallback –ø—É—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `encodeURIComponent(window.location.origin)` –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ (—Å—Ç—Ä–æ–∫–∞ 406)
  - ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞** - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ URL
  - ‚ö†Ô∏è **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ—Ç–æ—á–µ–Ω** - –≥–æ–≤–æ—Ä–∏—Ç "–±–µ–∑ encodeURIComponent", –Ω–æ –≤ URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—É—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ; –≤ fallback –ø—É—Ç–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

---

### ‚úÖ 2. –ü–∞—Ä–∞–º–µ—Ç—Ä `autoplay`:

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (`autoplay=0` –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å:** –ü–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `playerVars` (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—é)
- ‚úÖ **Fallback –ø—É—Ç—å:** –ü–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ URL (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—é)
- ‚úÖ **–ù–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:** –ù–µ—Ç –≤—ã–∑–æ–≤–∞ `playVideo()` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `onReady`
- ‚ö†Ô∏è **–í `allow` –∞—Ç—Ä–∏–±—É—Ç–µ:** `autoplay` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (permission), –Ω–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—è

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ; —ç—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è Chrome –Ω–∞ iPhone (—ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞, —É–ª—É—á—à–µ–Ω–∏–µ UX)

---

### ‚úÖ 3. –ü–∞—Ä–∞–º–µ—Ç—Ä `playsinline`:

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (`playsinline=1`)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å:** `playsinline: 1` –≤ `playerVars` (—Å—Ç—Ä–æ–∫–∞ 265)
- ‚úÖ **Fallback –ø—É—Ç—å:** `playsinline=1` –≤ URL (—Å—Ç—Ä–æ–∫–∞ 406)
- ‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è iOS** - –±–µ–∑ —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `playsinline: 1` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ–±–æ–∏—Ö –ø—É—Ç—è—Ö; –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è Chrome –Ω–∞ iPhone

---

### ‚úÖ 4. –ü–∞—Ä–∞–º–µ—Ç—Ä `enablejsapi`:

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç—å JavaScript API (`enablejsapi=1`)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å:** `enablejsapi: 1` –≤ `playerVars` (—Å—Ç—Ä–æ–∫–∞ 268)
- ‚úÖ **Fallback –ø—É—Ç—å:** `enablejsapi=1` –≤ URL (—Å—Ç—Ä–æ–∫–∞ 406)
- ‚úÖ **–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å YT.Player API

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - `enablejsapi: 1` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±–æ–∏—Ö –ø—É—Ç—è—Ö; –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–ª–µ–µ—Ä–∞

---

## üìã –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

### ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –¥–ª—è Chrome –Ω–∞ iPhone:

1. **‚úÖ `origin`** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
   - –û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å: `window.location.origin` –±–µ–∑ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è YT.Player API)
   - Fallback –ø—É—Ç—å: `encodeURIComponent(window.location.origin)` –≤ URL (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞)

2. **‚úÖ `autoplay`** - –û—Ç–∫–ª—é—á—ë–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é:
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `playerVars` –∏ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
   - –ù–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ `playVideo()`
   - –õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è Chrome –Ω–∞ iPhone (—ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞, —É–ª—É—á—à–µ–Ω–∏–µ UX)

3. **‚úÖ `playsinline`** - –í–∫–ª—é—á—ë–Ω:
   - –ó–Ω–∞—á–µ–Ω–∏–µ `1` –≤ –æ–±–æ–∏—Ö –ø—É—Ç—è—Ö
   - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è Chrome –Ω–∞ iPhone - –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

4. **‚úÖ `enablejsapi`** - –í–∫–ª—é—á—ë–Ω:
   - –ó–Ω–∞—á–µ–Ω–∏–µ `1` –≤ –æ–±–æ–∏—Ö –ø—É—Ç—è—Ö
   - –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–æ–º —á–µ—Ä–µ–∑ JavaScript API

### ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–£—Ç–æ—á–Ω–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π** –Ω–∞ —Å—Ç—Ä–æ–∫–µ 405 –≤ `createYouTubeIframeFallback`:
   - –¢–µ–∫—É—â–∏–π: `// FIX: origin –±–µ—Ä—ë—Ç—Å—è –∏–∑ window.location.origin (–±–µ–∑ encodeURIComponent) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã postMessage`
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: `// FIX: origin –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ encodeURIComponent –¥–ª—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è iframe fallback)`

2. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π** –ø—Ä–æ `autoplay` –≤ `allow` –∞—Ç—Ä–∏–±—É—Ç–µ:
   - –ü–æ—è—Å–Ω–∏—Ç—å, —á—Ç–æ —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (permission), –∞ –Ω–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### ‚úÖ –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –¥–ª—è Chrome –Ω–∞ iPhone: 95%**

- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ (–ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞)
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è iOS)
- ‚ö†Ô∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ fallback —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –≤–≤–æ–¥–∏—Ç—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

