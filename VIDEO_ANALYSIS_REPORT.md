# –û—Ç—á–µ—Ç –æ–± –∞–Ω–∞–ª–∏–∑–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ autoplay –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `views/cabinet.ejs` (—Å—Ç—Ä–æ–∫–∞ 265) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `autoplay=1&mute=1`, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É 153
- –í `views/admin.ejs` (—Å—Ç—Ä–æ–∫–∞ 480) –∏ `public/script.js` (—Å—Ç—Ä–æ–∫–∞ 137) autoplay —É–±—Ä–∞–Ω –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–∫–∏ 153
- **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä–∞–∑–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

**–§–∞–π–ª—ã:**
- `views/cabinet.ejs:265` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç autoplay
- `views/admin.ejs:480` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç autoplay
- `public/script.js:137` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç autoplay

### 2. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ URL –≤ public/script.js

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `public/script.js:184` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `youtube.com/embed`, –Ω–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `youtube-nocookie.com`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è `youtube-nocookie.com`

**–ö–æ–¥:**
```javascript
if (currentSrc && currentSrc.includes("youtube.com/embed") && isVisible) {
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```javascript
if (currentSrc && currentSrc.includes("youtube") && isVisible) {
```

### 3. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ iframe –≤ cabinet.ejs

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `views/cabinet.ejs` –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ iframe –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –≤–∏–¥–µ–æ
- –í `views/admin.ejs` –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (—Å—Ç—Ä–æ–∫–∞ 502-514)
- –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤–∏–¥–µ–æ

### 4. ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `views/admin.ejs` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å —Ñ–ª–∞–≥–∞–º–∏ `isOpeningVideo` –∏ `lastVideoButtonClick`
- –í `views/cabinet.ejs` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥ –±–µ–∑ –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
- –í `public/script.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `openVideoModal`, –Ω–æ –æ–Ω–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞

### 5. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ cabinet.ejs

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `views/cabinet.ejs` –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `closeVideoModal` (—Å—Ç—Ä–æ–∫–∞ 287), –Ω–æ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Å `data-close-video`
- –í `views/admin.ejs` –µ—Å—Ç—å `setupCloseHandlers()` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è

### 6. ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã allow –≤ iframe

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `views/index.ejs` (—Å—Ç—Ä–æ–∫–∞ 141) –∏ `views/admin.ejs` (—Å—Ç—Ä–æ–∫–∞ 241) –µ—Å—Ç—å `web-share` –≤ –∞—Ç—Ä–∏–±—É—Ç–µ `allow`
- –í `views/cabinet.ejs` (—Å—Ç—Ä–æ–∫–∞ 120) –Ω–µ—Ç `web-share`
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –ª—É—á—à–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

### 7. ‚úÖ CSP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- `server.js:49` - `frameSrc` –≤–∫–ª—é—á–∞–µ—Ç `https://www.youtube-nocookie.com`
- –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–º–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

1. **–£–±—Ä–∞—Ç—å autoplay –∏–∑ cabinet.ejs**
   - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É 265 –≤ `views/cabinet.ejs`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –ø–æ–¥—Ö–æ–¥, —á—Ç–æ –≤ `admin.ejs` –∏ `script.js`

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É URL –≤ script.js**
   - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É 184 –≤ `public/script.js`
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ `youtube` –≤–º–µ—Å—Ç–æ `youtube.com/embed`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)

3. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∏–¥–∏–º–æ—Å—Ç–∏ iframe –≤ cabinet.ejs**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –ø–æ–¥—Ö–æ–¥, —á—Ç–æ –≤ `admin.ejs`

4. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ cabinet.ejs**
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å `data-close-video`

5. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π**
   - –ü—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã –∫ –µ–¥–∏–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

6. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã allow –≤ iframe**
   - –î–æ–±–∞–≤–∏—Ç—å `web-share` –≤ `cabinet.ejs`

## üìã –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `views/cabinet.ejs` - —É–±—Ä–∞—Ç—å autoplay, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∏–¥–∏–º–æ—Å—Ç–∏
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `public/script.js` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É URL
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ `cabinet.ejs`
4. ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã allow

