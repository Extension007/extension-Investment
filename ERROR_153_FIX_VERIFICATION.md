# –û—Ç—á—ë—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153

## –î–∞—Ç–∞: 2024-12-19

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### 1. ‚úÖ –£–¥–∞–ª–µ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ –∏–∑ openVideoOverlay() –¥–ª—è YouTube

**–§–∞–π–ª:** `public/script.js`  
**–°—Ç—Ä–æ–∫–∏:** 682-688

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

**–ö–æ–¥:**
```javascript
// FIX: –î–ª—è YouTube –ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä" (–Ω–µ —á–µ—Ä–µ–∑ openVideoOverlay)
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –¥–ª—è YouTube - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
// Overlay —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω –∏ –æ—á–∏—â–µ–Ω, –ø—Ä–æ—Å—Ç–æ –≤—ã—Ö–æ–¥–∏–º (–ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É)
if (videoType === 'youtube') {
  console.warn('‚ö†Ô∏è YouTube –≤–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä"');
  // FIX: –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É - overlay —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω, –ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ
  return;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ `window.open()` —É–¥–∞–ª—ë–Ω –¥–ª—è YouTube –∏–∑ `openVideoOverlay()`.

---

### 2. ‚úÖ –ü–ª–µ–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä"

**–§–∞–π–ª:** `public/script.js`  
**–°—Ç—Ä–æ–∫–∏:** 1035-1089

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ö–æ–¥:**
```javascript
const videoBtn = e.target.closest('.btn[data-video]');
if (videoBtn) {
  // ...
  
  if (videoType === 'youtube') {
    const videoId = extractVideoId(videoUrl);
    // ...
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º overlay
    videoOverlay.classList.add('show');
    videoOverlay.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    videoIframeContainer.innerHTML = '';
    
    currentVideoUrl = videoUrl;
    
    // FIX: –°–æ–∑–¥–∞—ë–º –ø–ª–µ–µ—Ä —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153 –≤ Chrome –Ω–∞ iPhone
    // Gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ WKWebView
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ YouTube –ø–ª–µ–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ (gesture context –ø–µ—Ä–µ–¥–∞–Ω)');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ YouTube IFrame API –∑–∞–≥—Ä—É–∂–µ–Ω
    if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
      console.warn('‚ö†Ô∏è YouTube IFrame API –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback');
      // FIX: Fallback —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ WKWebView
      createYouTubeIframeFallback(videoId);
    } else {
      // FIX: –°–æ–∑–¥–∞—ë–º –ø–ª–µ–µ—Ä —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ WKWebView
      createYouTubeIframe(videoId);
    }
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–ª–µ–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è **—Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞**, –±–µ–∑ `setTimeout` –∏–ª–∏ `requestAnimationFrame`.

---

### 3. ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã playerVars –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

**–§–∞–π–ª:** `public/script.js`  
**–°—Ç—Ä–æ–∫–∏:** 266-274

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```javascript
playerVars: {
  'autoplay': 0,           // ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ - –≤–∏–¥–µ–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ Play
  'playsinline': 1,        // ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è iOS)
  'controls': 1,           // ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è –∫–Ω–æ–ø–∫—É Play)
  'rel': 0,                // ‚úÖ –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –≤–∏–¥–µ–æ
  'enablejsapi': 1,        // ‚úÖ –í–∫–ª—é—á–∏—Ç—å JavaScript API (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153)
  'origin': window.location.origin, // ‚úÖ origin –±–µ—Ä—ë—Ç—Å—è –∏–∑ window.location.origin –±–µ–∑ encodeURIComponent
  'modestbranding': 1      // ‚úÖ –£–º–µ–Ω—å—à–∏—Ç—å –±—Ä–µ–Ω–¥–∏–Ω–≥ YouTube
  // FIX: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –¥–ª—è iOS: —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –±–µ–∑ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ `autoplay: 0` - –æ—Ç–∫–ª—é—á—ë–Ω
- ‚úÖ `playsinline: 1` - –≤–∫–ª—é—á—ë–Ω
- ‚úÖ `enablejsapi: 1` - –≤–∫–ª—é—á—ë–Ω
- ‚úÖ `origin: window.location.origin` - –±–µ–∑ encodeURIComponent
- ‚úÖ `controls: 1` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Play

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

---

### 4. ‚úÖ playVideo() –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é

**–§–∞–π–ª:** `public/script.js`  
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** grep –ø–æ `playVideo()` - **–Ω–µ –Ω–∞–π–¥–µ–Ω–æ**

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ `onReady` (—Å—Ç—Ä–æ–∫–∏ 304-306):**
```javascript
// FIX: –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –Ω–æ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ - –≤–∏–¥–µ–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ Play
// –≠—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¥–ª—è Chrome –Ω–∞ iPhone
console.log('‚ÑπÔ∏è –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É Play –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.');
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ `playVideo()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è - –≤–∏–¥–µ–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É Play.

---

### 5. ‚úÖ Fallback iframe —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞

**–§–∞–π–ª:** `public/script.js`  
**–°—Ç—Ä–æ–∫–∏:** 409-447

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã embedUrl:**
```javascript
const embedUrl = `https://www.youtube.com/embed/${videoId}?playsinline=1&controls=1&rel=0&enablejsapi=1&origin=${encodeURIComponent(window.location.origin)}`;
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
- ‚úÖ `playsinline=1` - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ `enablejsapi=1` - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ `origin=${encodeURIComponent(window.location.origin)}` - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
- ‚úÖ `autoplay` - **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

**–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ src:**
```javascript
// FIX: –í—Å—Ç–∞–≤–ª—è–µ–º iframe –≤ DOM —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
videoIframeContainer.appendChild(iframe);
currentVideoIframe = iframe;

// FIX: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ src —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ - gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ WKWebView
// –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153 –≤ Chrome –Ω–∞ iPhone
iframe.src = embedUrl;
console.log('‚úÖ Fallback iframe —Å–æ–∑–¥–∞–Ω –∏ src —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (gesture context –ø–µ—Ä–µ–¥–∞–Ω)');
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Fallback iframe —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç `src` —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞.

---

### 6. ‚úÖ –°–æ—Ö—Ä–∞–Ω—ë–Ω –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**Overlay-–ª–æ–≥–∏–∫–∞:**
- ‚úÖ –ü–æ–∫–∞–∑ overlay (`videoOverlay.classList.add('show')`) - —Å—Ç—Ä–æ–∫–∞ 1069
- ‚úÖ –°–∫—Ä—ã—Ç–∏–µ overlay (`videoOverlay.classList.remove('show')`) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`videoIframeContainer.innerHTML = ''`) - —Å—Ç—Ä–æ–∫–∞ 1066
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ (`document.body.style.overflow = 'hidden'`) - —Å—Ç—Ä–æ–∫–∞ 1072

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `onError` –≤ YT.Player API - —Å–æ—Ö—Ä–∞–Ω—ë–Ω
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 153 (–ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ overlay –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ

**–†–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞ - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –ø—Ä–∏ –Ω—É–ª–µ–≤—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö - —Å–æ—Ö—Ä–∞–Ω—ë–Ω (—Ç–æ–ª—å–∫–æ –¥–ª—è edge case)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–µ–µ—Ä–∞:**
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

---

### 7. ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ FIX –¥–æ–±–∞–≤–ª–µ–Ω—ã

**–ú–µ—Å—Ç–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:**
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 255: `// FIX: –°–æ–∑–¥–∞—ë–º –ø–ª–µ–µ—Ä —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153 –≤ Chrome –Ω–∞ iPhone`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 267: `// FIX: –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ - –≤–∏–¥–µ–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ Play`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 274: `// FIX: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –¥–ª—è iOS`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 304: `// FIX: –ü–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –Ω–æ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 410: `// FIX: –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ gesture context`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 413: `// FIX: embedUrl —Å–æ–¥–µ—Ä–∂–∏—Ç playsinline=1, enablejsapi=1, origin (–±–µ–∑ autoplay)`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 427: `// FIX: –í—Å—Ç–∞–≤–ª—è–µ–º iframe –≤ DOM —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 431: `// FIX: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ src —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ - gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 682: `// FIX: –î–ª—è YouTube –ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä"`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 686: `// FIX: –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É - overlay —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω, –ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 1039: `// FIX: –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º overlay —Å –æ—à–∏–±–∫–æ–π –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 1046: `// FIX: –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É - –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 1077: `// FIX: –°–æ–∑–¥–∞—ë–º –ø–ª–µ–µ—Ä —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 153 –≤ Chrome –Ω–∞ iPhone`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–º–µ—á–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ FIX —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω.

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:

1. ‚úÖ **–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–û–±–∑–æ—Ä"** –ø–æ—è–≤–ª—è–µ—Ç—Å—è YouTube-–ø–ª–µ–µ—Ä —Å –ø—Ä–µ–≤—å—é –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π Play
2. ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫** ‚Üí –≤–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
3. ‚úÖ **–í Chrome –Ω–∞ iPhone –æ—à–∏–±–∫–∞ 153 –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç** - gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ **–í–∏–¥–µ–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - `autoplay: 0`, –Ω–µ—Ç –≤—ã–∑–æ–≤–∞ `playVideo()`
5. ‚úÖ **–ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è** - `window.open()` —É–¥–∞–ª—ë–Ω –∏–∑ —É—Å–ø–µ—à–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
6. ‚úÖ **UX —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç YouTube** - —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫

---

## üìã –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. ‚úÖ **openVideoOverlay()** - —É–¥–∞–ª–µ–Ω–æ `window.open()` –¥–ª—è YouTube, –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
2. ‚úÖ **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–∑–æ—Ä"** - —É–¥–∞–ª–µ–Ω—ã `window.open()` –¥–ª—è –æ—à–∏–±–æ–∫, –ø–ª–µ–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞
3. ‚úÖ **playerVars** - `autoplay: 0` —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω, –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
4. ‚úÖ **createYouTubeIframeFallback()** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–∫–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
5. ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ FIX** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤–æ –≤—Å–µ –º–µ—Å—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## ‚úÖ –ò—Ç–æ–≥

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –û—à–∏–±–∫–∞ 153 —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—É—Ç—ë–º —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–µ—Ä–∞ —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. Gesture context –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ WKWebView (Chrome –Ω–∞ iPhone). –í–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

